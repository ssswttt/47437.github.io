<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>数学谜案：校园侦探故事</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#4F46E5', // 主色调：深靛蓝色
                        secondary: '#EC4899', // 辅助色：粉红色
                        accent: '#F59E0B', // 强调色：橙色
                        dark: '#1E293B',
                        light: '#F8FAFC'
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                        display: ['"ZCOOL QingKe HuangYou"', 'cursive']
                    },
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-shadow {
                text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            }
            .card-hover {
                transition: all 0.3s ease;
            }
            .card-hover:hover {
                transform: translateY(-5px) scale(1.02);
                box-shadow: 0 10px 25px -5px rgba(79, 70, 229, 0.3);
            }
            .scene-transition {
                transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            }
            .mystery-bg {
                background-image: radial-gradient(circle at 10% 20%, rgba(79, 70, 229, 0.05) 0%, rgba(236, 72, 153, 0.05) 90%);
            }
            .clue-highlight {
                position: relative;
                cursor: pointer;
            }
            .clue-highlight::after {
                content: '';
                position: absolute;
                bottom: -2px;
                left: 0;
                width: 100%;
                height: 4px;
                background-color: rgba(245, 158, 11, 0.3);
                transform: scaleX(0);
                transform-origin: bottom right;
                transition: transform 0.3s ease;
            }
            .clue-highlight:hover::after {
                transform: scaleX(1);
                transform-origin: bottom left;
            }
            .evidence-item {
                transition: all 0.2s ease;
            }
            .evidence-item:hover {
                background-color: rgba(79, 70, 229, 0.05);
                transform: translateX(5px);
            }
            .puzzle-input:focus {
                outline: none;
                box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.2);
            }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=ZCOOL+QingKe+HuangYou&display=swap" rel="stylesheet">
</head>
<body class="bg-light text-dark font-sans mystery-bg min-h-screen">
    <!-- 导航栏 -->
    <nav id="navbar" class="fixed w-full bg-white/80 backdrop-blur-md shadow-sm z-50 transition-all duration-300">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fa fa-puzzle-piece text-primary text-2xl"></i>
                <h1 class="text-xl font-bold text-primary">数学谜案</h1>
            </div>
            <div class="hidden md:flex items-center space-x-6">
                <a href="home.html" class="nav-link hover:text-primary transition-colors">首页</a>
                <a href="#story" class="nav-link hover:text-primary transition-colors">剧情</a>
                <a href="#characters" class="nav-link hover:text-primary transition-colors">角色</a>
                <a href="#evidence" class="nav-link hover:text-primary transition-colors">证据袋</a>
                <a href="#play" class="nav-link hover:text-primary transition-colors">
                    <span class="px-4 py-1 bg-primary text-white rounded-full text-sm">开始游戏</span>
                </a>
            </div>
            <button id="mobile-menu-btn" class="md:hidden text-dark text-xl">
                <i class="fa fa-bars"></i>
            </button>
        </div>
        <!-- 移动端菜单 -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t">
            <div class="container mx-auto px-4 py-2 flex flex-col space-y-3">
                <a href="#home" class="py-2 hover:text-primary transition-colors">首页</a>
                <a href="#story" class="py-2 hover:text-primary transition-colors">剧情</a>
                <a href="#characters" class="py-2 hover:text-primary transition-colors">角色</a>
                <a href="#evidence" class="py-2 hover:text-primary transition-colors">证据袋</a>
                <a href="#play" class="py-2 hover:text-primary transition-colors">开始游戏</a>
            </div>
        </div>
    </nav>

    <!-- 英雄区域 -->
    <section id="home" class="pt-24 pb-16 md:pt-32 md:pb-24 relative overflow-hidden">
        <div class="absolute top-0 right-0 w-1/3 h-full bg-primary/5 rounded-l-full -z-10"></div>
        <div class="absolute bottom-0 left-0 w-1/4 h-1/2 bg-secondary/5 rounded-tr-full -z-10"></div>
        
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row items-center">
                <div class="md:w-1/2 mb-10 md:mb-0 relative z-10">
                    <div class="inline-block px-4 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium mb-4 animate-pulse">
                        初中生数学 · 互动剧本杀
                    </div>
                    <h1 class="text-[clamp(2rem,5vw,3.5rem)] font-bold leading-tight text-shadow mb-6">
                        用数学<br>
                        <span class="text-primary">破解谜案</span>
                    </h1>
                    <p class="text-lg text-gray-600 mb-8 max-w-lg">
                        校园里发生了一起神秘案件，只有运用你的数学智慧才能找出真相。
                        收集线索、解开谜题、指认真凶——每一步都需要你的逻辑思维和数学能力！
                    </p>
                    <div class="flex flex-wrap gap-4">
                        <a href="#play" class="inline-flex items-center px-6 py-3 bg-primary text-white rounded-lg shadow-md hover:bg-primary/90 transition-all transform hover:-translate-y-1">
                            开始探案 <i class="fa fa-arrow-right ml-2"></i>
                        </a>
                        <a href="#story" class="inline-flex items-center px-6 py-3 bg-white text-primary border border-primary rounded-lg hover:bg-primary/5 transition-all transform hover:-translate-y-1">
                            了解案情 <i class="fa fa-book ml-2"></i>
                        </a>
                    </div>
                    
                    <div class="mt-10 grid grid-cols-3 gap-4">
                        <div class="bg-white p-3 rounded-lg shadow-sm text-center">
                            <div class="text-primary font-bold text-2xl">7</div>
                            <div class="text-sm text-gray-500">场景地点</div>
                        </div>
                        <div class="bg-white p-3 rounded-lg shadow-sm text-center">
                            <div class="text-primary font-bold text-2xl">6</div>
                            <div class="text-sm text-gray-500">数学谜题</div>
                        </div>
                        <div class="bg-white p-3 rounded-lg shadow-sm text-center">
                            <div class="text-primary font-bold text-2xl">4</div>
                            <div class="text-sm text-gray-500">嫌疑人</div>
                        </div>
                    </div>
                </div>
                
                <div class="md:w-1/2 relative">
                    <div class="relative z-10 rounded-2xl overflow-hidden shadow-2xl transform rotate-1 hover:rotate-0 transition-transform duration-500">
                        <img src="https://picsum.photos/600/400?random=20" alt="校园谜案场景" class="w-full h-auto">
                        <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-6">
                            <span class="text-white text-shadow font-medium">图书馆的神秘失窃案...</span>
                        </div>
                    </div>
                    <div class="absolute -bottom-6 -left-6 w-36 h-36 bg-accent/20 rounded-full blur-3xl z-0"></div>
                    <div class="absolute -top-6 -right-6 w-36 h-36 bg-primary/20 rounded-full blur-3xl z-0"></div>
                    
                    <!-- 装饰性元素：数学符号 -->
                    <div class="absolute top-1/4 -left-4 text-4xl text-primary/20 rotate-12">∑</div>
                    <div class="absolute bottom-1/3 -right-2 text-3xl text-secondary/20 -rotate-12">√</div>
                    <div class="absolute top-1/2 right-10 text-2xl text-accent/20 rotate-45">π</div>
                </div>
            </div>
        </div>
    </section>

    <!-- 剧情介绍 -->
    <section id="story" class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <div class="text-center mb-16">
                <div class="inline-block px-4 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium mb-4">
                    案件背景
                </div>
                <h2 class="text-[clamp(1.8rem,4vw,2.5rem)] font-bold mb-4">谜案剧情</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">一场发生在校园里的神秘事件，等待你来揭开真相</p>
            </div>

            <div class="max-w-4xl mx-auto bg-gray-50 rounded-2xl p-8 shadow-sm relative overflow-hidden">
                <!-- 装饰元素 -->
                <div class="absolute top-0 right-0 w-32 h-32 bg-primary/5 rounded-bl-full"></div>
                <div class="absolute bottom-0 left-0 w-32 h-32 bg-secondary/5 rounded-tr-full"></div>
                
                <div class="relative z-10">
                    <div class="flex items-center mb-6">
                        <div class="w-10 h-1 bg-primary rounded-full mr-3"></div>
                        <h3 class="text-xl font-bold">事件发生</h3>
                    </div>
                    
                    <p class="mb-6 leading-relaxed">
                        周一早晨，阳光中学的图书馆发生了一件不寻常的事——珍贵的校史纪念册不翼而飞。这本纪念册原定在周五的校庆活动中展出，
                        里面记录了学校50年来的重要事件和照片，更重要的是，纪念册中夹着一张价值不菲的1953年原版邮票，是学校的珍贵文物。
                    </p>
                    
                    <div class="bg-white p-4 rounded-xl border-l-4 border-accent mb-6 shadow-sm">
                        <p class="italic text-gray-700">
                            "要找到丢失的纪念册，需解开六个谜题。每个谜题都藏在校园的不同角落，
                            只有真正的数学高手才能找到线索。当所有谜题解开，真相自然浮现。"
                        </p>
                        <p class="text-right text-sm text-gray-500 mt-2">—— 神秘留言</p>
                    </div>
                    
                    <div class="mb-6">
                        <h4 class="font-bold mb-3">案件时间线</h4>
                        <div class="relative pl-6 border-l-2 border-primary/30 space-y-4">
                            <div class="relative">
                                <div class="absolute -left-[29px] w-6 h-6 bg-primary rounded-full flex items-center justify-center text-white text-xs">1</div>
                                <p class="font-medium">周日 17:00</p>
                                <p class="text-sm text-gray-600">王老师最后一次确认纪念册在展示柜中</p>
                            </div>
                            <div class="relative">
                                <div class="absolute -left-[29px] w-6 h-6 bg-primary rounded-full flex items-center justify-center text-white text-xs">2</div>
                                <p class="font-medium">周日 19:00</p>
                                <p class="text-sm text-gray-600">图书馆闭馆</p>
                            </div>
                            <div class="relative">
                                <div class="absolute -left-[29px] w-6 h-6 bg-primary rounded-full flex items-center justify-center text-white text-xs">3</div>
                                <p class="font-medium">周一 07:00</p>
                                <p class="text-sm text-gray-600">王老师发现纪念册失踪并报案</p>
                            </div>
                        </div>
                    </div>
                    
                    <p class="leading-relaxed">
                        作为学校侦探社的成员，你被校长选中负责调查此案。警方初步判断这不是外部人员所为，
                        嫌疑人很可能就在学校内部。你需要在周五校庆前找到纪念册，否则将影响整个校庆活动的进行。
                        在调查过程中，你会遇到各种线索和嫌疑人，每个人都有自己的故事和秘密...
                    </p>
                    
                    <div class="mt-8 flex justify-center">
                        <a href="#play" class="inline-flex items-center px-6 py-3 bg-primary text-white rounded-lg shadow-md hover:bg-primary/90 transition-all">
                            开始调查 <i class="fa fa-search ml-2"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 角色介绍 -->
    <section id="characters" class="py-16 bg-gray-50">
        <div class="container mx-auto px-4">
            <div class="text-center mb-16">
                <div class="inline-block px-4 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium mb-4">
                    人物介绍
                </div>
                <h2 class="text-[clamp(1.8rem,4vw,2.5rem)] font-bold mb-4">案件相关人员</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">每个人都有嫌疑，仔细观察他们的言行举止</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
                <!-- 角色1 -->
                <div class="bg-white rounded-xl overflow-hidden shadow-md card-hover">
                    <div class="h-56 overflow-hidden">
                        <img src="https://picsum.photos/400/300?random=30" alt="李明 - 图书管理员" class="w-full h-full object-cover transition-transform duration-700 hover:scale-110">
                    </div>
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-3">
                            <h3 class="text-xl font-bold">李明</h3>
                            <span class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-xs font-medium">嫌疑人</span>
                        </div>
                        <p class="text-gray-600 mb-3">17岁，高二学生，图书馆志愿者</p>
                        <p class="text-sm text-gray-500 mb-4">
                            数学成绩优异，但性格内向。昨晚是他最后一个离开图书馆，声称锁好了门窗。
                            据同学反映，他最近手头拮据。
                        </p>
                        <div class="flex flex-wrap gap-2">
                            <span class="px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs">持有图书馆钥匙</span>
                            <span class="px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs">数学竞赛冠军</span>
                        </div>
                    </div>
                </div>

                <!-- 角色2 -->
                <div class="bg-white rounded-xl overflow-hidden shadow-md card-hover">
                    <div class="h-56 overflow-hidden">
                        <img src="https://picsum.photos/400/300?random=31" alt="张老师 - 数学老师" class="w-full h-full object-cover transition-transform duration-700 hover:scale-110">
                    </div>
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-3">
                            <h3 class="text-xl font-bold">张老师</h3>
                            <span class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-xs font-medium">嫌疑人</span>
                        </div>
                        <p class="text-gray-600 mb-3">35岁，数学老师，校史整理委员会成员</p>
                        <p class="text-sm text-gray-500 mb-4">
                            负责校庆活动筹备，最近因纪念册编排问题与王老师有过争执。
                            对邮票收藏有浓厚兴趣。
                        </p>
                        <div class="flex flex-wrap gap-2">
                            <span class="px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs">最后接触纪念册</span>
                            <span class="px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs">邮票爱好者</span>
                        </div>
                    </div>
                </div>

                <!-- 角色3 -->
                <div class="bg-white rounded-xl overflow-hidden shadow-md card-hover">
                    <div class="h-56 overflow-hidden">
                        <img src="https://picsum.photos/400/300?random=32" alt="王老师 - 图书馆馆长" class="w-full h-full object-cover transition-transform duration-700 hover:scale-110">
                    </div>
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-3">
                            <h3 class="text-xl font-bold">王老师</h3>
                            <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-medium">报案人</span>
                        </div>
                        <p class="text-gray-600 mb-3">50岁，图书馆馆长，工作认真严谨</p>
                        <p class="text-sm text-gray-500 mb-4">
                            今天早上第一个发现纪念册丢失，情绪十分激动，希望尽快找回纪念册。
                            据说他与学校在图书馆经费问题上有分歧。
                        </p>
                        <div class="flex flex-wrap gap-2">
                            <span class="px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs">7点发现失窃</span>
                            <span class="px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs">保管钥匙</span>
                        </div>
                    </div>
                </div>

                <!-- 角色4 -->
                <div class="bg-white rounded-xl overflow-hidden shadow-md card-hover">
                    <div class="h-56 overflow-hidden">
                        <img src="https://picsum.photos/400/300?random=33" alt="赵阳 - 校报记者" class="w-full h-full object-cover transition-transform duration-700 hover:scale-110">
                    </div>
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-3">
                            <h3 class="text-xl font-bold">赵阳</h3>
                            <span class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-xs font-medium">嫌疑人</span>
                        </div>
                        <p class="text-gray-600 mb-3">16岁，高一学生，校报记者</p>
                        <p class="text-sm text-gray-500 mb-4">
                            为了校庆特刊曾多次请求拍摄纪念册，但被王老师拒绝，对此心怀不满。
                            父亲是一位知名邮票收藏家。
                        </p>
                        <div class="flex flex-wrap gap-2">
                            <span class="px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs">携带高级相机</span>
                            <span class="px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs">熟悉校园布局</span>
                        </div>
                    </div>
                </div>

                <!-- 角色5 -->
                <div class="bg-white rounded-xl overflow-hidden shadow-md card-hover">
                    <div class="h-56 overflow-hidden">
                        <img src="https://picsum.photos/400/300?random=34" alt="陈校长" class="w-full h-full object-cover transition-transform duration-700 hover:scale-110">
                    </div>
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-3">
                            <h3 class="text-xl font-bold">陈校长</h3>
                            <span class="px-2 py-1 bg-green-100 text-green-800 rounded text-xs font-medium">委托人</span>
                        </div>
                        <p class="text-gray-600 mb-3">55岁，学校校长，重视校庆活动</p>
                        <p class="text-sm text-gray-500 mb-4">
                            对纪念册失窃感到震惊，希望能在不影响校庆的情况下解决此事。
                            校庆活动对他的续任至关重要。
                        </p>
                        <div class="flex flex-wrap gap-2">
                            <span class="px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs">给予调查权</span>
                            <span class="px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs">急需找回文物</span>
                        </div>
                    </div>
                </div>

                <!-- 角色6：玩家自己 -->
                <div class="bg-white rounded-xl overflow-hidden shadow-md card-hover border-2 border-dashed border-primary">
                    <div class="h-56 overflow-hidden bg-primary/5 flex items-center justify-center">
                        <div class="text-center">
                            <i class="fa fa-user-circle-o text-6xl text-primary/30 mb-2"></i>
                            <p class="text-primary font-medium">你</p>
                            <p class="text-sm text-gray-500">侦探社成员</p>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-3">侦探</h3>
                        <p class="text-gray-600 mb-3">15-17岁，中学生侦探</p>
                        <p class="text-sm text-gray-500 mb-4">
                            数学成绩优秀，逻辑思维能力强，善于观察细节，被校长选中调查此案。
                        </p>
                        <div class="flex flex-wrap gap-2">
                            <span class="px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs">寻找线索</span>
                            <span class="px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs">解开谜题</span>
                            <span class="px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs">指认真凶</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 证据袋区域 -->
    <section id="evidence" class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <div class="text-center mb-16">
                <div class="inline-block px-4 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium mb-4">
                    案件调查
                </div>
                <h2 class="text-[clamp(1.8rem,4vw,2.5rem)] font-bold mb-4">证据收集袋</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">随着调查深入，你将收集到各种证据，它们会帮助你找出真相</p>
            </div>

            <div class="max-w-4xl mx-auto">
                <div class="bg-gray-50 rounded-2xl p-6 shadow-sm">
                    <div class="flex items-center mb-6">
                        <i class="fa fa-briefcase text-primary text-2xl mr-3"></i>
                        <h3 class="text-xl font-bold">已收集证据</h3>
                    </div>
                    
                    <div id="evidence-list" class="space-y-3">
                        <div class="evidence-item p-3 bg-white rounded-lg border border-gray-100 flex items-start opacity-50">
                            <i class="fa fa-file-text-o text-gray-400 mt-1 mr-3"></i>
                            <div>
                                <p class="font-medium text-gray-400">神秘留言条</p>
                                <p class="text-sm text-gray-400">解开谜题以获取此证据</p>
                            </div>
                        </div>
                        
                        <div class="evidence-item p-3 bg-white rounded-lg border border-gray-100 flex items-start opacity-50">
                            <i class="fa fa-camera text-gray-400 mt-1 mr-3"></i>
                            <div>
                                <p class="font-medium text-gray-400">监控录像片段</p>
                                <p class="text-sm text-gray-400">解开谜题以获取此证据</p>
                            </div>
                        </div>
                        
                        <div class="evidence-item p-3 bg-white rounded-lg border border-gray-100 flex items-start opacity-50">
                            <i class="fa fa-key text-gray-400 mt-1 mr-3"></i>
                            <div>
                                <p class="font-medium text-gray-400">图书馆钥匙记录</p>
                                <p class="text-sm text-gray-400">解开谜题以获取此证据</p>
                            </div>
                        </div>
                        
                        <div class="evidence-item p-3 bg-white rounded-lg border border-gray-100 flex items-start opacity-50">
                            <i class="fa fa-comments-o text-gray-400 mt-1 mr-3"></i>
                            <div>
                                <p class="font-medium text-gray-400">证人证词</p>
                                <p class="text-sm text-gray-400">解开谜题以获取此证据</p>
                            </div>
                        </div>
                        
                        <div class="evidence-item p-3 bg-white rounded-lg border border-gray-100 flex items-start opacity-50">
                            <i class="fa fa-calendar text-gray-400 mt-1 mr-3"></i>
                            <div>
                                <p class="font-medium text-gray-400">活动时间表</p>
                                <p class="text-sm text-gray-400">解开谜题以获取此证据</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-8 bg-primary/5 p-4 rounded-lg">
                        <h4 class="font-bold flex items-center mb-2">
                            <i class="fa fa-lightbulb-o text-primary mr-2"></i> 调查提示
                        </h4>
                        <p class="text-sm text-gray-600">
                            证据将帮助你排除无辜者，锁定真凶。每个场景都有独特的数学谜题，
                            解开它们才能获得关键证据。注意记录每个嫌疑人的时间线和动机，
                            这将是你破案的关键。
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 游戏区域 -->
    <section id="play" class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <div class="text-center mb-16">
                <div class="inline-block px-4 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium mb-4">
                    开始探案
                </div>
                <h2 class="text-[clamp(1.8rem,4vw,2.5rem)] font-bold mb-4">数学谜案调查</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">根据线索解决数学谜题，找出真正的嫌疑人</p>
            </div>

            <div class="max-w-4xl mx-auto">
                <!-- 游戏进度 -->
                <div class="mb-10">
                    <div class="flex justify-between mb-2">
                        <span class="font-medium">调查进度</span>
                        <span class="text-primary font-bold" id="progress-text">0/6</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                        <div id="progress-bar" class="bg-primary h-2.5 rounded-full" style="width: 0%"></div>
                    </div>
                    <div class="flex justify-between mt-1 text-xs text-gray-500">
                        <span>图书馆</span>
                        <span>教室</span>
                        <span>操场</span>
                        <span>办公室</span>
                        <span>档案室</span>
                        <span>真相</span>
                    </div>
                </div>

                <!-- 游戏容器 -->
                <div class="bg-gray-50 rounded-2xl shadow-md overflow-hidden">
                    <!-- 游戏开始界面 -->
                    <div id="game-start" class="p-8 text-center">
                        <div class="w-20 h-20 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-6">
                            <i class="fa fa-puzzle-piece text-4xl text-primary"></i>
                        </div>
                        <h3 class="text-2xl font-bold mb-4">准备开始调查</h3>
                        <p class="text-gray-600 mb-8 max-w-lg mx-auto">
                            你将从图书馆开始调查，每个地点都有一个数学谜题等着你解决。解开谜题将获得线索，
                            帮助你找出偷走纪念册的真凶。准备好了吗？
                        </p>
                        <button id="start-investigation" class="px-8 py-3 bg-primary text-white rounded-lg shadow-md hover:bg-primary/90 transition-all text-lg transform hover:-translate-y-1">
                            开始调查
                        </button>
                    </div>

                    <!-- 场景1：图书馆 -->
                    <div id="scene-1" class="hidden">
                        <div class="h-64 md:h-80 overflow-hidden relative">
                            <img src="https://picsum.photos/800/400?random=40" alt="学校图书馆" class="w-full h-full object-cover">
                            <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end">
                                <div class="p-6 text-white">
                                    <h3 class="text-2xl font-bold mb-1">场景1：图书馆</h3>
                                    <p>发现纪念册失窃的地方</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="p-6">
                            <div class="bg-white p-5 rounded-xl shadow-sm mb-6">
                                <p class="mb-4">你来到图书馆，王老师带你查看了现场。纪念册原本放在靠窗的展示柜里，现在展示柜是空的。
                                地上有一张纸条，上面写着一个数学谜题：</p>
                                
                                <div class="bg-primary/5 p-4 rounded-lg border-l-4 border-primary mb-6">
                                    <p class="font-medium mb-2">谜题1：数列规律</p>
                                    <p class="mb-3">图书馆的书架编号是按照一定规律排列的。已知其中三个相邻书架的编号分别是：
                                    <span class="font-bold clue-highlight">8, 15, 24</span>，那么下一个书架的编号应该是多少？</p>
                                    
                                    <div class="mt-4">
                                        <input type="number" id="puzzle-1-answer" class="w-full p-2 border border-gray-300 rounded-lg mb-2 puzzle-input">
                                        <button id="check-puzzle-1" class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors">
                                            提交答案
                                        </button>
                                    </div>
                                </div>
                                
                                <div id="puzzle-1-feedback" class="hidden p-4 rounded-lg mb-4"></div>
                                
                                <div id="scene-1-clue" class="hidden">
                                    <div class="bg-accent/10 p-4 rounded-lg border-l-4 border-accent mb-6">
                                        <h4 class="font-bold flex items-center mb-2">
                                            <i class="fa fa-lightbulb-o text-accent mr-2"></i> 获得线索
                                        </h4>
                                        <p>解开谜题后，你在书架后面发现了一张小纸条，上面写着："我看到一个人昨晚9点左右在图书馆附近，
                                        他手里拿着一个和纪念册大小相似的物品。他的身高大约是175厘米，穿蓝色校服。"</p>
                                        
                                        <div class="mt-3 flex items-center text-sm">
                                            <i class="fa fa-plus-circle text-primary mr-2"></i>
                                            <span class="text-primary font-medium">已获得证据：神秘留言条</span>
                                        </div>
                                    </div>
                                    
                                    <div class="mt-6">
                                        <p class="mb-4">根据这条线索，你决定下一步去哪里调查？</p>
                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            <button class="next-scene-btn p-4 bg-white border border-gray-200 rounded-lg text-left hover:border-primary hover:bg-primary/5 transition-all" data-next="2">
                                                <h5 class="font-bold mb-1">去教室</h5>
                                                <p class="text-sm text-gray-600">询问早上最早到教室的学生</p>
                                            </button>
                                            <button class="next-scene-btn p-4 bg-white border border-gray-200 rounded-lg text-left hover:border-primary hover:bg-primary/5 transition-all" data-next="3">
                                                <h5 class="font-bold mb-1">去操场</h5>
                                                <p class="text-sm text-gray-600">寻找可能的目击者</p>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 场景2：教室 -->
                    <div id="scene-2" class="hidden">
                        <div class="h-64 md:h-80 overflow-hidden relative">
                            <img src="https://picsum.photos/800/400?random=41" alt="学校教室" class="w-full h-full object-cover">
                            <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end">
                                <div class="p-6 text-white">
                                    <h3 class="text-2xl font-bold mb-1">场景2：教室</h3>
                                    <p>学生们上课的地方</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="p-6">
                            <div class="bg-white p-5 rounded-xl shadow-sm mb-6">
                                <p class="mb-4">你来到教室，早读课还没开始。班长告诉你，李明是昨天最后一个离开教室的人，
                                而且他穿的正是蓝色校服。你找到李明，他承认昨晚在图书馆附近，但否认拿走了纪念册。
                                他说如果能解开他提出的数学题，就告诉你一个秘密。</p>
                                
                                <div class="bg-primary/5 p-4 rounded-lg border-l-4 border-primary mb-6">
                                    <p class="font-medium mb-2">谜题2：集合问题</p>
                                    <p class="mb-3">一个班级有40名学生，其中25人参加了数学竞赛，18人参加了英语竞赛，
                                    有8人同时参加了这两项竞赛。那么，有多少名学生两项竞赛都没有参加？</p>
                                    
                                    <div class="mt-4">
                                        <input type="number" id="puzzle-2-answer" class="w-full p-2 border border-gray-300 rounded-lg mb-2 puzzle-input">
                                        <button id="check-puzzle-2" class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors">
                                            提交答案
                                        </button>
                                    </div>
                                </div>
                                
                                <div id="puzzle-2-feedback" class="hidden p-4 rounded-lg mb-4"></div>
                                
                                <div id="scene-2-clue" class="hidden">
                                    <div class="bg-accent/10 p-4 rounded-lg border-l-4 border-accent mb-6">
                                        <h4 class="font-bold flex items-center mb-2">
                                            <i class="fa fa-lightbulb-o text-accent mr-2"></i> 获得线索
                                        </h4>
                                        <p>李明告诉你："昨晚我看到张老师在图书馆门口徘徊，手里拿着一个文件夹，
                                        看起来很着急的样子。而且我知道张老师最近因为纪念册的编排问题和王老师大吵了一架。"</p>
                                        
                                        <div class="mt-3 flex items-center text-sm">
                                            <i class="fa fa-plus-circle text-primary mr-2"></i>
                                            <span class="text-primary font-medium">已获得证据：证人证词</span>
                                        </div>
                                    </div>
                                    
                                    <div class="mt-6">
                                        <p class="mb-4">接下来你打算去哪里调查？</p>
                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            <button class="next-scene-btn p-4 bg-white border border-gray-200 rounded-lg text-left hover:border-primary hover:bg-primary/5 transition-all" data-next="4">
                                                <h5 class="font-bold mb-1">去办公室</h5>
                                                <p class="text-sm text-gray-600">找张老师了解情况</p>
                                            </button>
                                            <button class="next-scene-btn p-4 bg-white border border-gray-200 rounded-lg text-left hover:border-primary hover:bg-primary/5 transition-all" data-next="3">
                                                <h5 class="font-bold mb-1">去操场</h5>
                                                <p class="text-sm text-gray-600">看看是否有其他目击者</p>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 场景3：操场 -->
                    <div id="scene-3" class="hidden">
                        <div class="h-64 md:h-80 overflow-hidden relative">
                            <img src="https://picsum.photos/800/400?random=42" alt="学校操场" class="w-full h-full object-cover">
                            <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end">
                                <div class="p-6 text-white">
                                    <h3 class="text-2xl font-bold mb-1">场景3：操场</h3>
                                    <p>学生们运动的地方</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="p-6">
                            <div class="bg-white p-5 rounded-xl shadow-sm mb-6">
                                <p class="mb-4">你来到操场，看到赵阳正在拍摄校园风光。他说他昨晚确实在图书馆附近拍照，
                                但没看到任何人。当你问他为什么要拍那些照片时，他说如果能解开他提出的几何题，
                                就告诉你真相。</p>
                                
                                <div class="bg-primary/5 p-4 rounded-lg border-l-4 border-primary mb-6">
                                    <p class="font-medium mb-2">谜题3：几何计算</p>
                                    <p class="mb-3">学校操场是一个长方形，长100米，宽60米。赵阳想沿着操场跑一圈，
                                    但他只跑了操场周长的3/4就停下来了。请问他跑了多少米？</p>
                                    
                                    <div class="mt-4">
                                        <input type="number" id="puzzle-3-answer" class="w-full p-2 border border-gray-300 rounded-lg mb-2 puzzle-input">
                                        <button id="check-puzzle-3" class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors">
                                            提交答案
                                        </button>
                                    </div>
                                </div>
                                
                                <div id="puzzle-3-feedback" class="hidden p-4 rounded-lg mb-4"></div>
                                
                                <div id="scene-3-clue" class="hidden">
                                    <div class="bg-accent/10 p-4 rounded-lg border-l-4 border-accent mb-6">
                                        <h4 class="font-bold flex items-center mb-2">
                                            <i class="fa fa-lightbulb-o text-accent mr-2"></i> 获得线索
                                        </h4>
                                        <p>赵阳告诉你："其实我拍到了一些东西，但不是纪念册。我看到王老师昨晚8点多
                                        就锁了图书馆的门离开，但他今天却说自己是早上7点才发现纪念册不见了，这有点奇怪。"</p>
                                        
                                        <div class="mt-3 flex items-center text-sm">
                                            <i class="fa fa-plus-circle text-primary mr-2"></i>
                                            <span class="text-primary font-medium">已获得证据：监控录像片段</span>
                                        </div>
                                    </div>
                                    
                                    <div class="mt-6">
                                        <p class="mb-4">接下来你打算去哪里调查？</p>
                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            <button class="next-scene-btn p-4 bg-white border border-gray-200 rounded-lg text-left hover:border-primary hover:bg-primary/5 transition-all" data-next="4">
                                                <h5 class="font-bold mb-1">去办公室</h5>
                                                <p class="text-sm text-gray-600">找张老师和王老师核实情况</p>
                                            </button>
                                            <button class="next-scene-btn p-4 bg-white border border-gray-200 rounded-lg text-left hover:border-primary hover:bg-primary/5 transition-all" data-next="2">
                                                <h5 class="font-bold mb-1">去教室</h5>
                                                <p class="text-sm text-gray-600">继续向李明了解更多细节</p>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 场景4：办公室 -->
                    <div id="scene-4" class="hidden">
                        <div class="h-64 md:h-80 overflow-hidden relative">
                            <img src="https://picsum.photos/800/400?random=43" alt="教师办公室" class="w-full h-full object-cover">
                            <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end">
                                <div class="p-6 text-white">
                                    <h3 class="text-2xl font-bold mb-1">场景4：教师办公室</h3>
                                    <p>老师们工作的地方</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="p-6">
                            <div class="bg-white p-5 rounded-xl shadow-sm mb-6">
                                <p class="mb-4">你来到教师办公室，找到了张老师和王老师。两位老师都否认拿走了纪念册，
                                并互相指责对方。陈校长路过，看到这种情况，给你出了一道题，说解开这道题就能知道谁在说谎。</p>
                                
                                <div class="bg-primary/5 p-4 rounded-lg border-l-4 border-primary mb-6">
                                    <p class="font-medium mb-2">谜题4：逻辑推理</p>
                                    <p class="mb-3">张老师说："我昨天下午4点到6点一直在办公室批改作业，之后直接回家了。"
                                    王老师说："我昨天晚上7点到9点都在图书馆整理书籍。"
                                    已知图书馆的监控显示王老师是8点离开的，而办公室的监控显示张老师是5点离开的。
                                    请问两位老师的话中，总共有多少处不符合监控记录的地方？</p>
                                    
                                    <div class="mt-4">
                                        <input type="number" id="puzzle-4-answer" class="w-full p-2 border border-gray-300 rounded-lg mb-2 puzzle-input">
                                        <button id="check-puzzle-4" class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors">
                                            提交答案
                                        </button>
                                    </div>
                                </div>
                                
                                <div id="puzzle-4-feedback" class="hidden p-4 rounded-lg mb-4"></div>
                                
                                <div id="scene-4-clue" class="hidden">
                                    <div class="bg-accent/10 p-4 rounded-lg border-l-4 border-accent mb-6">
                                        <h4 class="font-bold flex items-center mb-2">
                                            <i class="fa fa-lightbulb-o text-accent mr-2"></i> 获得关键线索
                                        </h4>
                                        <p>陈校长告诉你："根据监控记录，张老师和王老师都有说谎。另外，我查到
                                        赵阳的父亲是一位古董收藏家，而那本纪念册里夹着一张价值不菲的老邮票。"</p>
                                        
                                        <div class="mt-3 flex items-center text-sm">
                                            <i class="fa fa-plus-circle text-primary mr-2"></i>
                                            <span class="text-primary font-medium">已获得证据：活动时间表</span>
                                        </div>
                                    </div>
                                    
                                    <div class="mt-6">
                                        <p class="mb-4">接下来你想去哪里继续调查？</p>
                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            <button class="next-scene-btn p-4 bg-white border border-gray-200 rounded-lg text-left hover:border-primary hover:bg-primary/5 transition-all" data-next="5">
                                                <h5 class="font-bold mb-1">去档案室</h5>
                                                <p class="text-sm text-gray-600">查找关于纪念册和邮票的更多信息</p>
                                            </button>
                                            <button class="next-scene-btn p-4 bg-white border border-gray-200 rounded-lg text-left hover:border-primary hover:bg-primary/5 transition-all" data-next="6">
                                                <h5 class="font-bold mb-1">直接指认</h5>
                                                <p class="text-sm text-gray-600">根据现有线索找出真凶</p>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 场景5：档案室 -->
                    <div id="scene-5" class="hidden">
                        <div class="h-64 md:h-80 overflow-hidden relative">
                            <img src="https://picsum.photos/800/400?random=45" alt="学校档案室" class="w-full h-full object-cover">
                            <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end">
                                <div class="p-6 text-white">
                                    <h3 class="text-2xl font-bold mb-1">场景5：档案室</h3>
                                    <p>保存学校历史资料的地方</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="p-6">
                            <div class="bg-white p-5 rounded-xl shadow-sm mb-6">
                                <p class="mb-4">你来到学校档案室，希望能找到关于纪念册和那张珍贵邮票的更多信息。
                                档案管理员李老师告诉你，要查阅这些资料，必须先解开他设计的数学谜题，这是学校为了保护
                                重要档案设置的安全机制。</p>
                                
                                <div class="bg-primary/5 p-4 rounded-lg border-l-4 border-primary mb-6">
                                    <p class="font-medium mb-2">谜题5：概率问题</p>
                                    <p class="mb-3">档案室的密码锁是一个三位数，每位数字都可以是0-9中的任意一个。
                                    已知密码的三个数字之和为15，且十位数字是百位数字的2倍。请问这样的密码有多少种可能？</p>
                                    
                                    <div class="mt-4">
                                        <input type="number" id="puzzle-5-answer" class="w-full p-2 border border-gray-300 rounded-lg mb-2 puzzle-input">
                                        <button id="check-puzzle-5" class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors">
                                            提交答案
                                        </button>
                                    </div>
                                </div>
                                
                                <div id="puzzle-5-feedback" class="hidden p-4 rounded-lg mb-4"></div>
                                
                                <div id="scene-5-clue" class="hidden">
                                    <div class="bg-accent/10 p-4 rounded-lg border-l-4 border-accent mb-6">
                                        <h4 class="font-bold flex items-center mb-2">
                                            <i class="fa fa-lightbulb-o text-accent mr-2"></i> 获得关键证据
                                        </h4>
                                        <p>解开谜题后，你查阅到了重要信息：那张1953年的邮票价值超过5万元，
                                        上周赵阳曾向王老师申请查看纪念册中的邮票，但被拒绝了。档案记录显示，
                                        赵阳有图书馆的备用钥匙，是去年作为校报记者采访时申请的，一直没有归还。</p>
                                        
                                        <div class="mt-3 flex items-center text-sm">
                                            <i class="fa fa-plus-circle text-primary mr-2"></i>
                                            <span class="text-primary font-medium">已获得证据：图书馆钥匙记录</span>
                                        </div>
                                    </div>
                                    
                                    <div class="mt-6">
                                        <button class="next-scene-btn w-full p-4 bg-primary text-white rounded-lg hover:bg-primary/90 transition-all" data-next="6">
                                            <h5 class="font-bold mb-1">揭开真相</h5>
                                            <p class="text-sm">根据所有线索找出真凶</p>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 场景6：真相 -->
                    <div id="scene-6" class="hidden">
                        <div class="h-64 md:h-80 overflow-hidden relative">
                            <img src="https://picsum.photos/800/400?random=44" alt="真相大白" class="w-full h-full object-cover">
                            <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end">
                                <div class="p-6 text-white">
                                    <h3 class="text-2xl font-bold mb-1">场景6：真相大白</h3>
                                    <p>找出偷走纪念册的真凶</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="p-6">
                            <div class="bg-white p-5 rounded-xl shadow-sm mb-6">
                                <div class="mb-6">
                                    <h4 class="font-bold text-lg mb-3">你的证据收集</h4>
                                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                        <div class="p-2 bg-gray-50 rounded border border-gray-200 flex items-center">
                                            <i class="fa fa-file-text-o text-primary mr-2"></i>
                                            <span class="text-sm">神秘留言条</span>
                                        </div>
                                        <div class="p-2 bg-gray-50 rounded border border-gray-200 flex items-center">
                                            <i class="fa fa-camera text-primary mr-2"></i>
                                            <span class="text-sm">监控录像片段</span>
                                        </div>
                                        <div class="p-2 bg-gray-50 rounded border border-gray-200 flex items-center">
                                            <i class="fa fa-key text-primary mr-2"></i>
                                            <span class="text-sm">图书馆钥匙记录</span>
                                        </div>
                                        <div class="p-2 bg-gray-50 rounded border border-gray-200 flex items-center">
                                            <i class="fa fa-comments-o text-primary mr-2"></i>
                                            <span class="text-sm">证人证词</span>
                                        </div>
                                        <div class="p-2 bg-gray-50 rounded border border-gray-200 flex items-center">
                                            <i class="fa fa-calendar text-primary mr-2"></i>
                                            <span class="text-sm">活动时间表</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <p class="mb-6">你已经收集到了所有线索，现在是时候找出真正偷走纪念册的人了。
                                根据所有线索和数学谜题的提示，你认为谁是小偷？</p>
                                
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                                    <button class="suspect-btn p-4 bg-white border border-gray-200 rounded-lg text-left hover:border-primary hover:bg-primary/5 transition-all" data-suspect="1">
                                        <h5 class="font-bold mb-1">李明</h5>
                                        <p class="text-sm text-gray-600">图书馆志愿者，最后一个离开图书馆</p>
                                    </button>
                                    <button class="suspect-btn p-4 bg-white border border-gray-200 rounded-lg text-left hover:border-primary hover:bg-primary/5 transition-all" data-suspect="2">
                                        <h5 class="font-bold mb-1">张老师</h5>
                                        <p class="text-sm text-gray-600">数学老师，与王老师有争执</p>
                                    </button>
                                    <button class="suspect-btn p-4 bg-white border border-gray-200 rounded-lg text-left hover:border-primary hover:bg-primary/5 transition-all" data-suspect="3">
                                        <h5 class="font-bold mb-1">王老师</h5>
                                        <p class="text-sm text-gray-600">图书馆馆长，最早发现失窃</p>
                                    </button>
                                    <button class="suspect-btn p-4 bg-white border border-gray-200 rounded-lg text-left hover:border-primary hover:bg-primary/5 transition-all" data-suspect="4">
                                        <h5 class="font-bold mb-1">赵阳</h5>
                                        <p class="text-sm text-gray-600">校报记者，父亲是古董收藏家</p>
                                    </button>
                                </div>
                                
                                <div id="true-criminal" class="hidden bg-accent/10 p-6 rounded-xl border-l-4 border-accent mb-6">
                                    <h4 class="font-bold text-xl mb-4 flex items-center">
                                        <i class="fa fa-gavel text-accent mr-2"></i> 真相大白
                                    </h4>
                                    <p class="mb-4">真正的小偷是赵阳！他知道纪念册里夹着珍贵的邮票，想偷回去给父亲。
                                    他利用自己未归还的图书馆备用钥匙，在王老师离开后潜入图书馆偷走了纪念册。</p>
                                    
                                    <p class="mb-4">在你的推理和证据面前，赵阳承认了自己的行为，并交出了纪念册。
                                    陈校长对你的表现非常满意，邀请你在周五的校庆活动上作为学生代表发言。</p>
                                    
                                    <div class="mt-6">
                                        <div class="flex flex-col sm:flex-row gap-4">
                                            <button id="restart-game" class="flex-1 p-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-all">
                                                重新开始游戏
                                            </button>
                                            <button id="show-explanation" class="flex-1 p-3 bg-white text-primary border border-primary rounded-lg hover:bg-primary/5 transition-all">
                                                查看解题步骤
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div id="wrong-guess" class="hidden p-4 bg-red-50 text-red-600 rounded-lg mb-4">
                                    <p>你的判断有误，请再仔细分析所有线索！</p>
                                </div>
                                
                                <!-- 解题步骤模态框 -->
                                <div id="explanation-modal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden">
                                    <div class="bg-white rounded-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto m-4">
                                        <div class="p-6 border-b">
                                            <div class="flex justify-between items-center">
                                                <h3 class="text-xl font-bold">所有谜题解答步骤</h3>
                                                <button id="close-modal" class="text-gray-500 hover:text-gray-700">
                                                    <i class="fa fa-times text-xl"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="p-6 space-y-6">
                                            <div>
                                                <h4 class="font-bold text-lg mb-2">谜题1：数列规律</h4>
                                                <p class="text-gray-600">
                                                    规律是：3²-1=8，4²-1=15，5²-1=24，因此下一个数字是6²-1=35
                                                </p>
                                            </div>
                                            <div>
                                                <h4 class="font-bold text-lg mb-2">谜题2：集合问题</h4>
                                                <p class="text-gray-600">
                                                    参加竞赛的人数 = 参加数学竞赛的人数 + 参加英语竞赛的人数 - 同时参加两项的人数<br>
                                                    即 25 + 18 - 8 = 35人<br>
                                                    因此，两项都没参加的人数 = 总人数 - 参加竞赛的人数 = 40 - 35 = 5人
                                                </p>
                                            </div>
                                            <div>
                                                <h4 class="font-bold text-lg mb-2">谜题3：几何计算</h4>
                                                <p class="text-gray-600">
                                                    长方形周长 = (长 + 宽) × 2 = (100 + 60) × 2 = 320米<br>
                                                    赵阳跑的距离 = 周长 × 3/4 = 320 × 3/4 = 240米
                                                </p>
                                            </div>
                                            <div>
                                                <h4 class="font-bold text-lg mb-2">谜题4：逻辑推理</h4>
                                                <p class="text-gray-600">
                                                    张老师说自己到6点，实际5点离开（1处不符）<br>
                                                    王老师说自己到9点，实际8点离开（1处不符）<br>
                                                    总共有2处不符合监控记录的地方
                                                </p>
                                            </div>
                                            <div>
                                                <h4 class="font-bold text-lg mb-2">谜题5：概率问题</h4>
                                                <p class="text-gray-600">
                                                    设百位数字为x，则十位数字为2x，个位数字为15-3x<br>
                                                    x的可能取值为2,3,4（因为2x和15-3x都必须是0-9的整数）<br>
                                                    对应的密码为： 249, 366, 483，共4种可能
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 页脚 -->
    <footer class="bg-dark text-white py-12">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-6 md:mb-0">
                    <div class="flex items-center space-x-2 mb-2">
                        <i class="fa fa-puzzle-piece text-primary text-2xl"></i>
                        <h2 class="text-xl font-bold">数学谜案</h2>
                    </div>
                    <p class="text-gray-400">在游戏中学习数学，在推理中提升能力</p>
                </div>
                
                <div class="flex flex-col md:flex-row gap-8">
                    <div>
                        <h3 class="font-semibold mb-3">快速链接</h3>
                        <ul class="space-y-2 text-gray-400">
                            <li><a href="home.html" class="hover:text-white transition-colors">首页</a></li>
                            <li><a href="#story" class="hover:text-white transition-colors">剧情</a></li>
                            <li><a href="#characters" class="hover:text-white transition-colors">角色</a></li>
                            <li><a href="#evidence" class="hover:text-white transition-colors">证据袋</a></li>
                            <li><a href="#play" class="hover:text-white transition-colors">开始游戏</a></li>
                        </ul>
                    </div>
                    
                    <div>
                        <h3 class="font-semibold mb-3">关于项目</h3>
                        <p class="text-gray-400 text-sm">
                            这是一个专为初中生设计的数学教育游戏，
                            通过剧本杀的形式让学生在解决谜题的过程中
                            学习和应用数学知识。
                        </p>
                    </div>
                </div>
            </div>
            
            <div class="mt-8 pt-8 border-t border-gray-800 text-center text-gray-500">
                <p>&copy; 2023 数学谜案 - 校园剧本杀. 保留所有权利.</p>
            </div>
        </div>
    </footer>

    <script>
        // 移动端菜单切换
        document.getElementById('mobile-menu-btn').addEventListener('click', function() {
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenu.classList.toggle('hidden');
        });

        // 导航栏滚动效果
        window.addEventListener('scroll', function() {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('py-2', 'shadow');
                navbar.classList.remove('py-3');
            } else {
                navbar.classList.add('py-3');
                navbar.classList.remove('py-2', 'shadow');
            }
        });

        // 平滑滚动
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 80,
                        behavior: 'smooth'
                    });
                    
                    // 关闭移动菜单（如果打开）
                    document.getElementById('mobile-menu').classList.add('hidden');
                }
            });
        });

        // 游戏逻辑
        let currentScene = 0;
        const totalScenes = 6;
        const evidenceItems = [
            "神秘留言条",
            "监控录像片段",
            "图书馆钥匙记录",
            "证人证词",
            "活动时间表"
        ];
        
        // 开始调查
        document.getElementById('start-investigation').addEventListener('click', function() {
            document.getElementById('game-start').classList.add('hidden');
            document.getElementById('scene-1').classList.remove('hidden');
            currentScene = 1;
            updateProgress();
            
            // 滚动到场景顶部
            document.getElementById('scene-1').scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        });
        
        // 更新进度条
        function updateProgress() {
            const progress = (currentScene / totalScenes) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
            document.getElementById('progress-text').textContent = `${currentScene}/${totalScenes}`;
        }
        
        // 更新证据列表
        function updateEvidence(index) {
            const evidenceElements = document.querySelectorAll('#evidence-list .evidence-item');
            if (evidenceElements[index]) {
                evidenceElements[index].classList.remove('opacity-50');
                evidenceElements[index].querySelector('p.font-medium').classList.remove('text-gray-400');
                evidenceElements[index].querySelector('p.text-sm').classList.remove('text-gray-400');
                evidenceElements[index].querySelector('i').classList.remove('text-gray-400');
                evidenceElements[index].querySelector('i').classList.add('text-primary');
            }
        }
        
        // 谜题1：图书馆
        document.getElementById('check-puzzle-1').addEventListener('click', function() {
            const answer = parseInt(document.getElementById('puzzle-1-answer').value) || 0;
            const feedbackDiv = document.getElementById('puzzle-1-feedback');
            
            if (answer === 35) {
                feedbackDiv.innerHTML = '<p class="text-green-600">正确！规律是：3²-1=8，4²-1=15，5²-1=24，所以下一个是6²-1=35</p>';
                feedbackDiv.className = 'p-4 bg-green-50 rounded-lg mb-4';
                document.getElementById('scene-1-clue').classList.remove('hidden');
                updateEvidence(0); // 更新第一个证据
            } else {
                feedbackDiv.innerHTML = '<p class="text-red-600">不正确，请再仔细思考一下数字之间的规律</p>';
                feedbackDiv.className = 'p-4 bg-red-50 rounded-lg mb-4';
            }
            
            feedbackDiv.classList.remove('hidden');
        });
        
        // 谜题2：教室
        document.getElementById('check-puzzle-2').addEventListener('click', function() {
            const answer = parseInt(document.getElementById('puzzle-2-answer').value) || 0;
            const feedbackDiv = document.getElementById('puzzle-2-feedback');
            
            if (answer === 5) {
                feedbackDiv.innerHTML = '<p class="text-green-600">正确！参加竞赛的人数是25+18-8=35人，所以没参加的是40-35=5人</p>';
                feedbackDiv.className = 'p-4 bg-green-50 rounded-lg mb-4';
                document.getElementById('scene-2-clue').classList.remove('hidden');
                updateEvidence(3); // 更新第四个证据（证人证词）
            } else {
                feedbackDiv.innerHTML = '<p class="text-red-600">不正确，提示：注意减去重复计算的人数</p>';
                feedbackDiv.className = 'p-4 bg-red-50 rounded-lg mb-4';
            }
            
            feedbackDiv.classList.remove('hidden');
        });
        
        // 谜题3：操场
        document.getElementById('check-puzzle-3').addEventListener('click', function() {
            const answer = parseInt(document.getElementById('puzzle-3-answer').value) || 0;
            const feedbackDiv = document.getElementById('puzzle-3-feedback');
            
            if (answer === 240) {
                feedbackDiv.innerHTML = '<p class="text-green-600">正确！长方形周长是(100+60)×2=320米，320×3/4=240米</p>';
                feedbackDiv.className = 'p-4 bg-green-50 rounded-lg mb-4';
                document.getElementById('scene-3-clue').classList.remove('hidden');
                updateEvidence(1); // 更新第二个证据（监控录像）
            } else {
                feedbackDiv.innerHTML = '<p class="text-red-600">不正确，先计算长方形的周长，再乘以3/4</p>';
                feedbackDiv.className = 'p-4 bg-red-50 rounded-lg mb-4';
            }
            
            feedbackDiv.classList.remove('hidden');
        });
        
        // 谜题4：办公室
        document.getElementById('check-puzzle-4').addEventListener('click', function() {
            const answer = parseInt(document.getElementById('puzzle-4-answer').value) || 0;
            const feedbackDiv = document.getElementById('puzzle-4-feedback');
            
            if (answer === 2) {
                feedbackDiv.innerHTML = '<p class="text-green-600">正确！张老师说自己到6点，实际5点离开；王老师说自己到9点，实际8点离开，共2处不符</p>';
                feedbackDiv.className = 'p-4 bg-green-50 rounded-lg mb-4';
                document.getElementById('scene-4-clue').classList.remove('hidden');
                updateEvidence(4); // 更新第五个证据（活动时间表）
            } else {
                feedbackDiv.innerHTML = '<p class="text-red-600">不正确，请仔细对比两位老师的话和监控记录</p>';
                feedbackDiv.className = 'p-4 bg-red-50 rounded-lg mb-4';
            }
            
            feedbackDiv.classList.remove('hidden');
        });
        
        // 谜题5：档案室
        document.getElementById('check-puzzle-5').addEventListener('click', function() {
            const answer = parseInt(document.getElementById('puzzle-5-answer').value) || 0;
            const feedbackDiv = document.getElementById('puzzle-5-feedback');
            
            if (answer === 3) {
                feedbackDiv.innerHTML = '<p class="text-green-600">正确！可能的密码有：249, 366, 483，共3种</p>';
                feedbackDiv.className = 'p-4 bg-green-50 rounded-lg mb-4';
                document.getElementById('scene-5-clue').classList.remove('hidden');
                updateEvidence(2); // 更新第三个证据（钥匙记录）
            } else {
                feedbackDiv.innerHTML = '<p class="text-red-600">不正确，提示：设百位数字为x，十位为2x，个位为15-3x，找出符合条件的x值</p>';
                feedbackDiv.className = 'p-4 bg-red-50 rounded-lg mb-4';
            }
            
            feedbackDiv.classList.remove('hidden');
        });
        
        // 切换场景
        document.querySelectorAll('.next-scene-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const nextScene = this.getAttribute('data-next');
                
                // 隐藏当前场景
                document.getElementById(`scene-${currentScene}`).classList.add('hidden');
                
                // 显示下一个场景
                document.getElementById(`scene-${nextScene}`).classList.remove('hidden');
                
                // 更新当前场景并更新进度
                currentScene = parseInt(nextScene);
                updateProgress();
                
                // 滚动到新场景顶部
                document.getElementById(`scene-${nextScene}`).scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            });
        });
        
        // 指认嫌疑人
        document.querySelectorAll('.suspect-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const suspect = this.getAttribute('data-suspect');
                
                // 隐藏错误提示（如果显示）
                document.getElementById('wrong-guess').classList.add('hidden');
                
                // 赵阳是真凶（编号4）
                if (suspect === '4') {
                    document.getElementById('true-criminal').classList.remove('hidden');
                } else {
                    document.getElementById('wrong-guess').classList.remove('hidden');
                }
            });
        });
        
        // 重新开始游戏
        document.getElementById('restart-game').addEventListener('click', function() {
            // 隐藏所有场景
            for (let i = 1; i <= totalScenes; i++) {
                document.getElementById(`scene-${i}`).classList.add('hidden');
            }
            
            // 重置谜题反馈和线索
            document.querySelectorAll('[id$="-feedback"]').forEach(el => {
                el.classList.add('hidden');
            });
            document.querySelectorAll('[id$="-clue"]').forEach(el => {
                el.classList.add('hidden');
            });
            
            // 重置答案输入
            document.querySelectorAll('input[type="number"]').forEach(input => {
                input.value = '';
            });
            
            // 隐藏真相和错误提示
            document.getElementById('true-criminal').classList.add('hidden');
            document.getElementById('wrong-guess').classList.add('hidden');
            
            // 重置证据列表
            document.querySelectorAll('#evidence-list .evidence-item').forEach((el, index) => {
                el.classList.add('opacity-50');
                el.querySelector('p.font-medium').classList.add('text-gray-400');
                el.querySelector('p.text-sm').classList.add('text-gray-400');
                el.querySelector('i').classList.add('text-gray-400');
                el.querySelector('i').classList.remove('text-primary');
            });
            
            // 显示开始界面
            document.getElementById('game-start').classList.remove('hidden');
            
            // 重置进度
            currentScene = 0;
            updateProgress();
            
            // 关闭模态框（如果打开）
            document.getElementById('explanation-modal').classList.add('hidden');
            
            // 滚动到游戏开始处
            document.getElementById('game-start').scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        });
        
        // 显示解题步骤
        document.getElementById('show-explanation').addEventListener('click', function() {
            document.getElementById('explanation-modal').classList.remove('hidden');
        });
        
        // 关闭模态框
        document.getElementById('close-modal').addEventListener('click', function() {
            document.getElementById('explanation-modal').classList.add('hidden');
        });
        
        // 点击模态框外部关闭
        document.getElementById('explanation-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                this.classList.add('hidden');
            }
        });
        
        // 线索高亮交互
        document.querySelectorAll('.clue-highlight').forEach(el => {
            el.addEventListener('click', function() {
                const tooltip = document.createElement('div');
                tooltip.className = 'absolute bg-dark text-white text-xs p-2 rounded z-10 whitespace-nowrap -bottom-8 left-1/2 transform -translate-x-1/2';
                tooltip.textContent = '这是一个重要线索！';
                this.appendChild(tooltip);
                
                setTimeout(() => {
                    tooltip.remove();
                }, 2000);
            });
        });
    </script>
</body>
</html>
